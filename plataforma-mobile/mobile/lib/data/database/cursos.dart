import 'package:sqflite/sqflite.dart';

Future<void> createCursosTables(Database db) async {
  await db.execute('''
    CREATE TABLE IF NOT EXISTS CURSOS (
      ID_CURSO INTEGER PRIMARY KEY AUTOINCREMENT,
      ID_GESTOR_ADMINISTRADOR INTEGER NOT NULL,
      ID_TOPICO INTEGER NOT NULL,
      NOME_CURSO TEXT NOT NULL,
      DESCRICAO_CURSO TEXT NOT NULL,
      DATA_INICIO_INSCRICAO TEXT NOT NULL,
      DATA_FIM_INSCRICAO TEXT NOT NULL,
      DATA_INICIO_CURSO TEXT NOT NULL,
      DATA_FIM_CURSO TEXT NOT NULL,
      ESTADO INTEGER NOT NULL DEFAULT 1,
      IDIOMA TEXT NOT NULL,
      HORAS_CURSO REAL NOT NULL,
      CONTADOR_FORMANDOS INTEGER NOT NULL,
      IMAGEM TEXT NOT NULL,
      ISASSINCRONO INTEGER,
      ISSINCRONO INTEGER,
      FOREIGN KEY (ID_TOPICO) REFERENCES TOPICO(ID_TOPICO),
      FOREIGN KEY (ID_GESTOR_ADMINISTRADOR) REFERENCES GESTOR_ADMINISTRADOR(ID_GESTOR_ADMINISTRADOR)
    );
  ''');

  await db.execute('''
    CREATE TABLE IF NOT EXISTS ASSINCRONO (
      ID_CURSO_ASSINCRONO INTEGER PRIMARY KEY,
      FOREIGN KEY (ID_CURSO_ASSINCRONO) REFERENCES CURSOS(ID_CURSO)
    );
  ''');

  await db.execute('''
    CREATE TABLE IF NOT EXISTS SINCRONO (
      ID_CURSO_SINCRONO INTEGER PRIMARY KEY,
      ID_FORMADOR INTEGER NOT NULL,
      NUMERO_VAGAS INTEGER,
      FOREIGN KEY (ID_FORMADOR) REFERENCES FORMADORES(ID_FORMADOR),
      FOREIGN KEY (ID_CURSO_SINCRONO) REFERENCES CURSOS(ID_CURSO)
    );
  ''');
}


